// Copyright (c) 2012 Byron Lai
//
// Permission is hereby granted, free of charge, to any person obtaining
// a copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to
// permit persons to whom the Software is furnished to do so, subject to
// the following conditions:
//
// The above copyright notice and this permission notice shall be
// included in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
// BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
// SOFTWARE.

#include "libc/macros.h"
#include "libc/str/wcwidth_osx.internal.h"

const uint8_t kWcwidthOsxIndex1[] = {
    0,   16,  26,  33,  34,  50,  56,  72,  88,  104, 107, 107, 107, 107,
    115, 127, 143, 143, 143, 143, 143, 156, 160, 164, 178, 178, 178, 178,
    178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178,
    178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178,
    178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178,
    178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178,
    178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178,
    178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178,
    178, 178, 178, 178, 178, 178, 178, 178, 194, 194, 194, 194, 194, 194,
    194, 195, 211, 211, 211, 211, 211, 211, 211, 212,
};

const uint16_t kWcwidthOsxIndex2[] = {
    0,   8,   22,  38,  54,  70,  86,  102, 118, 134, 150, 163, 179, 195, 211,
    227, 243, 256, 272, 284, 299, 305, 321, 336, 352, 368, 376, 376, 376, 376,
    376, 376, 379, 393, 393, 393, 393, 393, 393, 393, 393, 393, 393, 393, 393,
    393, 393, 393, 393, 396, 412, 412, 424, 439, 455, 471, 487, 487, 487, 487,
    487, 487, 487, 487, 487, 487, 487, 490, 504, 504, 504, 504, 520, 520, 520,
    520, 520, 520, 520, 520, 520, 520, 520, 520, 529, 544, 559, 575, 591, 607,
    623, 629, 645, 661, 664, 664, 664, 664, 664, 664, 664, 664, 664, 664, 680,
    685, 701, 705, 705, 705, 705, 705, 705, 705, 705, 705, 705, 705, 705, 705,
    705, 705, 705, 721, 737, 753, 764, 780, 780, 780, 780, 780, 780, 780, 780,
    796, 801, 801, 801, 801, 801, 801, 801, 817, 817, 817, 817, 817, 817, 817,
    817, 817, 817, 817, 817, 817, 817, 817, 817, 827, 834, 834, 834, 834, 834,
    834, 834, 834, 834, 834, 834, 834, 834, 834, 834, 834, 850, 866, 867, 867,
    867, 867, 867, 867, 867, 867, 867, 867, 867, 867, 867, 867, 867, 867, 883,
    883, 883, 883, 883, 883, 883, 883, 883, 883, 883, 883, 883, 883, 883, 883,
    884, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900, 900,
    900, 900, 901,
};

const uint32_t kWcwidthOsxIndex3[] = {
    0,    32,   32,   33,   64,   96,   96,   96,   96,   96,   96,   96,
    96,   96,   96,   96,   128,  128,  128,  144,  175,  205,  208,  208,
    208,  208,  237,  247,  247,  247,  247,  275,  292,  316,  340,  351,
    381,  402,  428,  457,  478,  510,  527,  527,  537,  564,  582,  600,
    619,  632,  632,  658,  690,  711,  738,  738,  738,  738,  738,  738,
    738,  738,  767,  773,  804,  834,  866,  889,  920,  951,  980,  1003,
    1034, 1065, 1094, 1117, 1148, 1180, 1210, 1233, 1263, 1294, 1323, 1355,
    1384, 1410, 1441, 1464, 1495, 1527, 1559, 1582, 1611, 1643, 1673, 1696,
    1727, 1759, 1791, 1817, 1849, 1881, 1912, 1927, 1958, 1986, 2017, 2049,
    2081, 2111, 2143, 2169, 2195, 2214, 2240, 2252, 2282, 2303, 2335, 2354,
    2380, 2406, 2412, 2442, 2468, 2484, 2516, 2516, 2522, 2554, 2554, 2554,
    2554, 2554, 2586, 2586, 2609, 2641, 2664, 2680, 2710, 2734, 2749, 2773,
    2778, 2810, 2813, 2845, 2845, 2856, 2887, 2888, 2888, 2888, 2888, 2888,
    2888, 2888, 2888, 2888, 2888, 2888, 2888, 2888, 2888, 2888, 2897, 2929,
    2961, 2961, 2976, 3008, 3040, 3072, 3104, 3136, 3148, 3178, 3210, 3242,
    3274, 3274, 3282, 3314, 3337, 3348, 3348, 3380, 3409, 3441, 3459, 3491,
    3513, 3535, 3565, 3574, 3606, 3606, 3606, 3606, 3606, 3606, 3606, 3634,
    3646, 3676, 3697, 3729, 3750, 3776, 3776, 3808, 3816, 3830, 3843, 3875,
    3875, 3875, 3875, 3907, 3907, 3907, 3907, 3907, 3907, 3939, 3964, 3996,
    3996, 3996, 3996, 3996, 3996, 3996, 3996, 4006, 4038, 4064, 4095, 4127,
    4138, 4154, 4183, 4215, 4239, 4254, 4286, 4306, 4338, 4360, 4376, 4408,
    4408, 4424, 4443, 4466, 4482, 4482, 4482, 4482, 4482, 4482, 4482, 4482,
    4482, 4505, 4516, 4516, 4516, 4516, 4516, 4540, 4572, 4597, 4629, 4661,
    4661, 4661, 4661, 4661, 4661, 4661, 4661, 4661, 4661, 4661, 4661, 4661,
    4663, 4695, 4723, 4727, 4758, 4782, 4802, 4833, 4844, 4868, 4888, 4904,
    4904, 4904, 4904, 4904, 4904, 4904, 4904, 4904, 4904, 4904, 4904, 4904,
    4904, 4904, 4904, 4923, 4944, 4944, 4944, 4944, 4944, 4976, 4993, 5009,
    5024, 5056, 5056, 5056, 5077, 5102, 5128, 5144, 5170, 5202, 5234, 5234,
    5266, 5281, 5298, 5298, 5330, 5357, 5357, 5369, 5401, 5401, 5401, 5401,
    5401, 5401, 5411, 5433, 5465, 5487, 5519, 5520, 5529, 5556, 5556, 5556,
    5588, 5606, 5623, 5623, 5640, 5656, 5664, 5680, 5696, 5728, 5756, 5772,
    5772, 5772, 5772, 5773, 5805, 5805, 5805, 5805, 5805, 5805, 5805, 5805,
    5805, 5805, 5805, 5805, 5805, 5805, 5805, 5805, 5815, 5847, 5847, 5847,
    5847, 5847, 5847, 5847, 5847, 5847, 5847, 5847, 5847, 5847, 5847, 5847,
    5847, 5851, 5879, 5879, 5911, 5911, 5911, 5911, 5911, 5911, 5911, 5911,
    5911, 5911, 5911, 5911, 5911, 5911, 5911, 5911, 5930, 5946, 5971, 5978,
    6010, 6010, 6010, 6010, 6010, 6010, 6010, 6010, 6030, 6062, 6094, 6122,
    6146, 6146, 6146, 6178, 6178, 6178, 6178, 6197, 6210, 6210, 6215, 6245,
    6272, 6304, 6312, 6344, 6344, 6371, 6397, 6429, 6429, 6441, 6473, 6473,
    6473, 6473, 6473, 6505, 6514, 6546, 6578, 6578, 6578, 6578, 6578, 6578,
    6578, 6578, 6578, 6578, 6578, 6578, 6578, 6610, 6610, 6610, 6610, 6610,
    6610, 6610, 6610, 6610, 6610, 6610, 6610, 6610, 6610, 6610, 6610, 6638,
    6642, 6642, 6642, 6642, 6642, 6642, 6642, 6642, 6642, 6642, 6642, 6642,
    6642, 6642, 6642, 6642, 6674, 6674, 6674, 6674, 6674, 6674, 6674, 6674,
    6674, 6674, 6674, 6674, 6674, 6674, 6674, 6674, 6690, 6722, 6722, 6722,
    6722, 6722, 6722, 6722, 6722, 6740, 6756, 6777, 6793, 6793, 6799, 6825,
    6857, 6888, 6920, 6926, 6926, 6940, 6958, 6977, 6977, 6977, 6977, 6977,
    6977, 6977, 6977, 6977, 6977, 7009, 7025, 7041, 7059, 7083, 7099, 7129,
    7157, 7173, 7198, 7220, 7220, 7220, 7223, 7254, 7255, 7255, 7286, 7287,
    7288, 7319, 7351, 7383, 7388, 7419, 7449, 7481, 7481, 7481, 7486, 7518,
    7530, 7553, 7553, 7574, 7602, 7618, 7634, 7664, 7664, 7664, 7664, 7696,
    7728, 7743, 7760, 7792, 7819, 7840, 7851, 7883, 7914, 7942, 7964, 7996,
    7996, 7996, 7996, 7998, 8018, 8028, 8028, 8028, 8028, 8028, 8028, 8028,
    8028, 8028, 8028, 8028, 8028, 8028, 8028, 8028, 8028, 8060, 8070, 8102,
    8102, 8102, 8102, 8102, 8102, 8134, 8166, 8166, 8166, 8166, 8166, 8166,
    8166, 8198, 8223, 8255, 8280, 8280, 8280, 8280, 8280, 8280, 8280, 8280,
    8280, 8280, 8280, 8280, 8280, 8280, 8280, 8280, 8312, 8312, 8312, 8312,
    8312, 8312, 8312, 8312, 8312, 8312, 8312, 8312, 8312, 8312, 8312, 8312,
    8329, 8344, 8344, 8344, 8344, 8376, 8376, 8376, 8405, 8425, 8425, 8425,
    8425, 8425, 8425, 8425, 8425, 8425, 8425, 8425, 8425, 8425, 8425, 8425,
    8425, 8457, 8457, 8457, 8457, 8457, 8457, 8457, 8467, 8499, 8524, 8533,
    8558, 8587, 8609, 8623, 8653, 8685, 8685, 8715, 8721, 8721, 8721, 8721,
    8721, 8753, 8753, 8762, 8767, 8785, 8785, 8785, 8785, 8817, 8817, 8828,
    8850, 8853, 8885, 8914, 8919, 8945, 8975, 9007, 9025, 9025, 9025, 9025,
    9025, 9051, 9059, 9059, 9059, 9059, 9059, 9059, 9059, 9059, 9079, 9093,
    9125, 9125, 9125, 9125, 9125, 9125, 9125, 9125, 9125, 9125, 9125, 9125,
    9125, 9125, 9125, 9125, 9157, 9177, 9193, 9193, 9205, 9225, 9225, 9225,
    9225, 9225, 9225, 9225, 9225, 9225, 9225, 9225, 9225, 9225, 9225, 9225,
    9225, 9257, 9257, 9257, 9257, 9257, 9257, 9257, 9257, 9257, 9257, 9257,
    9257, 9257, 9257, 9257, 9257, 9266, 9289, 9289, 9289, 9289, 9289, 9289,
    9289, 9289, 9289, 9289, 9289, 9289, 9289, 9289, 9289, 9289, 9321, 9321,
    9321, 9321, 9321, 9321, 9321, 9321, 9321, 9321, 9321, 9321, 9321, 9321,
    9321, 9321, 9323, 9353, 9353, 9353, 9353, 9353, 9353, 9353, 9353, 9353,
    9353, 9353, 9353, 9353, 9353, 9353, 9353, 9385, 9385, 9385, 9385, 9385,
    9385, 9385, 9385, 9385, 9385, 9385, 9385, 9385, 9385, 9385, 9385, 9387,
    9419, 9419, 9419, 9419, 9419, 9419, 9419, 9419, 9419, 9419, 9419, 9419,
    9419, 9419, 9419, 9419, 9421,
};

const uint32_t kWcwidthOsx[] = {
    0x00000000, 0x00000000, 0x55555555, 0x55555555, 0x00000000, 0x00000000,
    0x55555555, 0x55555555, 0x00000000, 0x00000000, 0x15505555, 0x54455540,
    0x15555555, 0x55555555, 0x55555555, 0x55554000, 0x55555555, 0x00001555,
    0x55555500, 0x54155555, 0x55555555, 0x14555555, 0x00000000, 0x04000000,
    0x54000041, 0x01555555, 0x00001550, 0x00555550, 0x55505550, 0x55555555,
    0x00015555, 0x50000000, 0x45555555, 0x55555555, 0x15555555, 0x04140000,
    0x55555550, 0x55551055, 0x00005555, 0x55550000, 0x55555555, 0x00005555,
    0x00000040, 0x55555550, 0x55555555, 0x55400005, 0x00000005, 0x00000000,
    0x55555550, 0x15555555, 0x54000150, 0x55000101, 0x55555055, 0x54000155,
    0x15554505, 0x55555414, 0x40455545, 0x40015015, 0x40001141, 0x54014500,
    0x55555555, 0x15544005, 0x55554140, 0x14555455, 0x00140145, 0x00400000,
    0x40011540, 0x15415555, 0x55440000, 0x55545455, 0x45554555, 0x01501551,
    0x01014400, 0x05000000, 0x04555550, 0x45000000, 0x54141555, 0x55455555,
    0x50155145, 0x00505040, 0x51401000, 0x55555505, 0x10000000, 0x54540555,
    0x50144501, 0x55540540, 0x50140155, 0x40010151, 0x55550000, 0x01555555,
    0x45555150, 0x55555545, 0x54555551, 0x00550405, 0x40000000, 0x54154001,
    0x40001555, 0x55141555, 0x55545455, 0x55551555, 0x55405545, 0x00001454,
    0x01440005, 0x05155554, 0x51400000, 0x55454555, 0x55515555, 0x54055555,
    0x00545440, 0x40001000, 0x55555415, 0x15550155, 0x55555514, 0x55540555,
    0x55155555, 0x55541155, 0x00150000, 0x00015554, 0x05400000, 0x55540000,
    0x55555555, 0x00145555, 0x01555000, 0x55555400, 0x00000005, 0x00000000,
    0x10450450, 0x55515400, 0x51411151, 0x10000145, 0x00004554, 0x14155554,
    0x00000000, 0x40000000, 0x55555555, 0x55541555, 0x45555555, 0x55155544,
    0x55555555, 0x00000015, 0x00550400, 0x00000000, 0x55500000, 0x15551554,
    0x00000000, 0x40000000, 0x55555555, 0x15555555, 0x55105440, 0x55555555,
    0x55555055, 0x55555555, 0x55500555, 0x55555555, 0x00055555, 0x55555500,
    0x55555555, 0xaaaaaa01, 0xaaaaaaaa, 0x000800aa, 0x00000000, 0x55500000,
    0x55555555, 0x15455555, 0x15445554, 0x55555554, 0x55555555, 0x55550551,
    0x05515555, 0x50551555, 0x51555555, 0x55555555, 0x45555555, 0x55555415,
    0x55555555, 0x55500155, 0x55555555, 0x54001555, 0x55555555, 0x01555555,
    0x55550000, 0x55555555, 0x00005555, 0x55555554, 0x05555555, 0x55555554,
    0x55555555, 0x00000001, 0x51555555, 0x00000005, 0x55555555, 0x00001405,
    0x55555555, 0x00000005, 0x51555555, 0x00000001, 0x55555555, 0x55555555,
    0x55500010, 0x50000014, 0x55501555, 0x55500055, 0x55500055, 0x55510155,
    0x55500055, 0x55555555, 0x00055555, 0x55555550, 0x55555555, 0x00000045,
    0x00000000, 0x55555500, 0x55555555, 0x00005501, 0x00055514, 0x55555404,
    0x55555555, 0x00005541, 0x55555540, 0x55555555, 0x55540015, 0x40015555,
    0x54015555, 0x55555555, 0x41555555, 0x00000505, 0x00000000, 0x55555000,
    0x55555555, 0x45440045, 0x55005555, 0x00555555, 0x05555400, 0x55555554,
    0x55555555, 0x55555501, 0x00000000, 0x00000000, 0x55555555, 0x55555555,
    0x55555540, 0x55555555, 0x00000015, 0x00000000, 0x55555540, 0x55555555,
    0x50000015, 0x55555555, 0x00000015, 0x55000000, 0x55555555, 0x50555555,
    0x55555055, 0x55555555, 0x05550555, 0x44445555, 0x55555555, 0x41555555,
    0x55555555, 0x15555555, 0x05555555, 0x55554555, 0x54541555, 0x55554555,
    0x55554005, 0x50001555, 0x55555555, 0x05555555, 0x50000010, 0x55555550,
    0x00001551, 0x55555550, 0x00005555, 0x00000000, 0x00010000, 0x55550000,
    0x55555555, 0x55405555, 0x55555555, 0x00155555, 0x55555550, 0x55555555,
    0x555555a5, 0x55555555, 0x00000055, 0x55000000, 0x55555555, 0x00555555,
    0x00000000, 0x55555400, 0x00000000, 0x55555400, 0x55555555, 0x55554155,
    0x55555555, 0x00001555, 0x00000000, 0x55154000, 0x55555550, 0x55554555,
    0x45555555, 0x55510154, 0x55555551, 0x55555555, 0x55555501, 0x55555455,
    0x55550115, 0x55555555, 0x55405555, 0x00000000, 0x00000000, 0x55555555,
    0x55555555, 0x55555554, 0x55555555, 0x05555554, 0x55555555, 0x55555555,
    0x50000000, 0x55555555, 0x05555555, 0x55550000, 0x55555555, 0x00005555,
    0x00000004, 0x55555550, 0x00015555, 0x55515550, 0x55515551, 0x55555551,
    0x55555555, 0x00000005, 0x00000000, 0xaaaaaaa0, 0xa8aaaaaa, 0xaaaaaaaa,
    0x02aaaaaa, 0xaaa80000, 0xaaaaaaaa, 0x0002aaaa, 0xaaa80000, 0xaaa802aa,
    0xaaaaaaaa, 0x8002aaaa, 0x1aaaaaaa, 0xaaaaaaaa, 0xaaaaaaaa, 0xaaaaaa00,
    0xaaaaaaaa, 0xaaa800aa, 0xaaaaaaaa, 0xaaaa80aa, 0xaaaaaaaa, 0xaaaa2aaa,
    0xaaaaaaaa, 0x00000000, 0xaaaaaaaa, 0x2aaaaaaa, 0xaaaaaaaa, 0xaaaaaaaa,
    0xaa000000, 0xaaaaaaaa, 0xa8aaaaaa, 0xaaaaaaaa, 0x02aaaaaa, 0xaaaa8000,
    0xaaaaaaaa, 0x00002aaa, 0x00000000, 0xaaaa8000, 0xaaaaaaaa, 0xaaa02aaa,
    0xaaaaaaaa, 0x000aaaaa, 0x00000000, 0x55500000, 0x55555555, 0x00055555,
    0x50000000, 0x55555555, 0x05555555, 0x55555555, 0x55500005, 0x55555555,
    0x00000005, 0x00000000, 0x55555550, 0x55555555, 0x00000005, 0x00000000,
    0x55151550, 0x55555554, 0x00554155, 0x00000000, 0x55555555, 0x55555555,
    0x55550000, 0x55555555, 0x00005555, 0x01555554, 0x00000000, 0x54000000,
    0x55555555, 0x01555555, 0x00010000, 0x00000000, 0x55540000, 0x55555555,
    0x00015555, 0x55555550, 0x50555550, 0x00000005, 0x00000000, 0xaaaaaaa0,
    0xaaaaaaaa, 0x0000000a, 0x00000000, 0x55555550, 0x55555555, 0x00000005,
    0xaaaaaaa0, 0xaaaaaaaa, 0xaaaaaa0a, 0xaaaaaaaa, 0xaaa800aa, 0xaaaaaaaa,
    0x0002aaaa, 0x00000000, 0x55540000, 0x55000000, 0x55551001, 0x15555555,
    0x51451155, 0x55555555, 0x05555555, 0x00000000, 0x55555554, 0x55555555,
    0x00000001, 0x55555554, 0x55555555, 0x55555541, 0x55555555, 0x00000015,
    0x55400000, 0x00015555, 0xaaa80000, 0x0054002a, 0xaaaaa800, 0xaaa8aaaa,
    0x500aa2aa, 0x55555515, 0x55555555, 0xaaaa8055, 0xaaaaaaaa, 0x55556aaa,
    0x55555555, 0x15541555, 0x15541554, 0x4aaa8054, 0x00000555, 0x55554140,
    0x55555515, 0x55451555, 0x55415555, 0x00015555, 0x00000000, 0x55540000,
    0x55555555, 0x50015555, 0x55555401, 0x05555555, 0x55555554, 0x55555555,
    0x55555001, 0x00000005, 0x00000000, 0x55555550, 0x55555555, 0x00000000,
    0x00000000, 0x55555555, 0x01555555, 0x55555555, 0x55555555, 0x00000000,
    0x00000000, 0x55555555, 0x15555555, 0x55400000, 0x00155555, 0x00000000,
    0x55400000, 0x55555555, 0x55515555, 0x55555555, 0x50055555, 0x00555555,
    0x00000000, 0x55000000, 0x55555555, 0x00555555, 0x00000000, 0x55000000,
    0x55555105, 0x14555555, 0x00000410, 0x00000000, 0x55555000, 0x55555555,
    0x00000400, 0x00000000, 0x00001000, 0x45455000, 0x55555555, 0x40000015,
    0x40001555, 0x00005555, 0x00000000, 0x55550000, 0x55555555, 0x00005555,
    0x00000000, 0x55550000, 0x55555555, 0x00005555, 0x00015400, 0x00000000,
    0x55540000, 0x55555555, 0x00015555, 0x55555540, 0x55555555, 0x55555415,
    0x55555555, 0x55550155, 0x50000001, 0x55554000, 0x40155555, 0x55555555,
    0x01555555, 0x00000000, 0x54000000, 0x55555555, 0x01555555, 0x00000001,
    0x00000000, 0x55555554, 0x55555555, 0x00000001, 0x00000000, 0x55555554,
    0x55555555, 0x55555551, 0x55555555, 0x50504145, 0x15555545, 0x55554551,
    0x55555555, 0x50551555, 0x45554555, 0x55555555, 0x45515555, 0x55540455,
    0x55555554, 0x55555555, 0x55555541, 0x55555555, 0x55555415, 0x55555555,
    0x00000155, 0x00000000, 0x55555400, 0x55555555, 0x55540155, 0x55555555,
    0x00015555, 0x00000000, 0xaaa80000, 0xaaaaaaaa, 0x0002aaaa, 0x00000000,
    0xaaa80000, 0xaaaaaaaa, 0x0002aaaa, 0x00000000, 0x55540000, 0x55555555,
    0x55415555, 0x55555555, 0x00155555,
};
